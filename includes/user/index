<h1 id='users'>USERS</h1>
<h2 id='sign-up'>Sign up</h2>

<blockquote>
<p>Request</p>
</blockquote>

<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/v1/auth</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.paradise.game</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">108</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+821093814181"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test@123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nickname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="s1">'https://api.paradise.game/v1'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "phone": "+821093814181",
    "password": "Test@123",
    "nickname": "123"
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">axios</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
  <span class="dl">"</span><span class="s2">phone</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">+821093814181</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">password</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Test@123</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">nickname</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">123</span><span class="dl">"</span>
<span class="p">});</span>

<span class="kd">let</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">post</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">maxBodyLength</span><span class="p">:</span> <span class="kc">Infinity</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="dl">'</span><span class="s1">https://api.paradise.game/v1/auth</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span> 
    <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span>
  <span class="p">},</span>
  <span class="na">data</span> <span class="p">:</span> <span class="nx">data</span>
<span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="nx">request</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">));</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div>

<blockquote>
<p>Response</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"authentication"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"account"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"accessToken"</span><span class="p">:</span><span class="s2">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI4ODg4MTkzYTdmNGYzYmI3Y2E1M2JmYTAyMDZiZTU0YzplMGE0IiwiaWF0IjoxNjgzODU1Nzc4LCJleHAiOjE2ODM4NTc2Mzh9.yM2cSJlWkMJZhbbUcKmi9ih8BIMIchK6HsK2Cdrufxs"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"refreshToken"</span><span class="p">:</span><span class="s2">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI4N2E1YzY4NGIxOTZhYzQwOWM1OTIzZDNhYjVjZDQ5NzoyMTk0YjQ5Njg1MzJlMyIsImlhdCI6MTY4Mzg1NTc3OCwiZXhwIjoxNjgzODU3NjM4fQ.a7i9jWyCB81VZpLv3l8-ThSGRiJQQZ5drLJGOOhrIk8"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>사용자 회원가입을 진행합니다.</p>

<p>사용자 회원가입에는 본인의 전화번호인 <code>phone</code>, 비밀번호인 <code>password</code>, 이름인 <code>nickname</code>을 필요로 하며,</p>

<p><code>phone</code>의 경우 국제 표준 표기법 E.164 형식에 맞는 전화번호를 사용하고 있습니다.</p>

<p>E.164 포맷에 대한 자세한 내용은 <a href="http://www.ktword.co.kr/test/view/view.php?m_temp1=1970">여기</a>를 참고하세요.</p>

<aside class="notice">
비밀번호는 영어 대소문자, 숫자, 특수문자를 포함해 8자 이상으로 구성되어야 합니다.
</aside>

<h3 id='http-request'>HTTP Request</h3>

<p><code>POST /v1/auth</code></p>

<h3 id='scopes'>Scopes</h3>

<ul>
<li>No permission required</li>
</ul>

<h3 id='response-code'>Response Code</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Created</td>
</tr>
</tbody></table>

<h3 id='response-data'>Response Data</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>authentication.role.type</td>
<td><code>string</code></td>
<td>권한 종류</td>
</tr>
<tr>
<td>account</td>
<td><code>object</code> or <code>null</code></td>
<td>계정 정보</td>
</tr>
<tr>
<td>account.balance</td>
<td><code>string</code></td>
<td>GNI 소유량</td>
</tr>
<tr>
<td>accessToken</td>
<td><code>string</code></td>
<td>인증 토큰</td>
</tr>
<tr>
<td>refreshToken</td>
<td><code>string</code></td>
<td>재발급 토큰</td>
</tr>
</tbody></table>

<h3 id='error-code'>Error Code</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Message</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td><code>INVALID_PASSWORD</code></td>
<td>유효하지 않은 비밀번호</td>
</tr>
<tr>
<td>400</td>
<td><code>ALREADY_EXISTS_PHONE</code></td>
<td>이미 서버에 등록된 전화번호</td>
</tr>
<tr>
<td>400</td>
<td><code>ALREADY_EXISTS_NICKNAME</code></td>
<td>이미 서버에 등록된 닉네임</td>
</tr>
</tbody></table>

<h2 id='get-profile'>Get Profile</h2>

<blockquote>
<p>Request</p>
</blockquote>

<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/v1/user/me?field=phone&amp;field=nickname</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.paradise.game</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer {access_token}</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="s1">'https://api.paradise.game/v1/user/me?field=phone&amp;field=nickname'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Authorization: Bearer {access_token}'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">axios</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">get</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">maxBodyLength</span><span class="p">:</span> <span class="kc">Infinity</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="dl">'</span><span class="s1">https://api.paradise.game/v1/user/me?field=phone&amp;field=nickname</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span> 
    <span class="dl">'</span><span class="s1">Authorization</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Bearer {access_token}</span><span class="dl">'</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="nx">request</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">));</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div>

<blockquote>
<p>Response</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01021004364"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"nickname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"지니"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>사용자의 프로필을 조회합니다.</p>

<h3 id='fields'>Fields</h3>

<p>가져올 필드를 <code>field</code> 파라미터로 지정할 수 있습니다. 특정 필드를 지정할 수 있으며, 지정된 필드는 응답에 포함됩니다.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>phone</td>
<td>전화번호</td>
</tr>
<tr>
<td>nickname</td>
<td>닉네임</td>
</tr>
</tbody></table>

<h3 id='http-request'>HTTP Request</h3>

<p><code>GET /v1/user/me</code></p>

<h3 id='scopes'>Scopes</h3>

<ul>
<li><code>user:anonymous</code></li>
<li><code>user:verified</code></li>
<li><code>user:account</code></li>
</ul>

<h3 id='query-parameters'>Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>field</td>
<td><code>string</code></td>
<td>true</td>
<td>가져올 필드</td>
</tr>
</tbody></table>

<h3 id='response-code'>Response Code</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>OK</td>
</tr>
</tbody></table>

<h3 id='response-data'>Response Data</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>phone</td>
<td><code>string</code></td>
<td>true</td>
<td>전화번호</td>
</tr>
<tr>
<td>nickname</td>
<td><code>string</code></td>
<td>true</td>
<td>닉네임</td>
</tr>
</tbody></table>

<h2 id='update-password'>Update Password</h2>

<blockquote>
<p>Request</p>
</blockquote>

<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PATCH</span> <span class="nn">/v1/user/password</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.paradise.game</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer {access_token}</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">65</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"currentPassword"</span><span class="p">:</span><span class="w"> </span><span class="s2">"current_pw"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update_pw"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> PATCH <span class="s1">'https://api.paradise.game/v1/user/password'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Authorization: Bearer {access_token}'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "currentPassword": "current_pw",
    "password": "update_pw"
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">axios</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
  <span class="dl">"</span><span class="s2">currentPassword</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">current_pw</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">password</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">update_pw</span><span class="dl">"</span>
<span class="p">});</span>

<span class="kd">let</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">patch</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">maxBodyLength</span><span class="p">:</span> <span class="kc">Infinity</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="dl">'</span><span class="s1">https://api.paradise.game/v1/user/password</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span> 
    <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span> 
    <span class="dl">'</span><span class="s1">Authorization</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Bearer {access_token}</span><span class="dl">'</span>
  <span class="p">},</span>
  <span class="na">data</span> <span class="p">:</span> <span class="nx">data</span>
<span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="nx">request</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">));</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div>

<p>사용자의 비밀번호를 변경합니다.</p>

<p>변경 시 현재 비밀번호와 변경할 비밀번호를 요구합니다. 변경할 비밀번호는 영어 대소문자, 숫자, 특수문자를 포함해 8자 이상으로 구성되어야 합니다.</p>

<p>변경 시 이전 비밀번호와 동일한 비밀번호는 사용할 수 없습니다.</p>

<h3 id='http-request'>HTTP Request</h3>

<p><code>PATCH /v1/user/password</code></p>

<h3 id='scopes'>Scopes</h3>

<ul>
<li><code>user:anonymous</code></li>
</ul>

<h3 id='request-body'>Request Body</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>currentPassword</td>
<td><code>string</code></td>
<td>true</td>
<td>현재 비밀번호</td>
</tr>
<tr>
<td>password</td>
<td><code>string</code></td>
<td>true</td>
<td>변경할 비밀번호</td>
</tr>
</tbody></table>

<h3 id='response-code'>Response Code</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>204</td>
<td>No Content</td>
</tr>
</tbody></table>

<h3 id='error-code'>Error Code</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Message</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td><code>INVALID_PASSWORD</code></td>
<td>유효하지 않은 비밀번호</td>
</tr>
<tr>
<td>400</td>
<td><code>SAME_PASSWORD</code></td>
<td>이전 비밀번호와 동일한 비밀번호</td>
</tr>
</tbody></table>

<h2 id='update-the-phone-number'>Update the Phone number</h2>

<blockquote>
<p>Request</p>
</blockquote>

<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/v1/user/verification/check</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.paradise.game</span>
<span class="na">X-Verification-Code</span><span class="p">:</span> <span class="s">111111</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer {access_token}</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">31</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+821093814181"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://api.paradise.game/v1/user/verification/check'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'X-Verification-Code: 111111'</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Authorization: Bearer {access_token}'</span> <span class="se">\</span>
<span class="nt">--data</span> <span class="s1">'{
  "phone": "+821093814181"
}'</span>

</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">axios</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
  <span class="dl">"</span><span class="s2">phone</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">+821093814181</span><span class="dl">"</span>
<span class="p">});</span>

<span class="kd">let</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">post</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">maxBodyLength</span><span class="p">:</span> <span class="kc">Infinity</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="dl">'</span><span class="s1">https://api.paradise.game/v1/</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span> 
    <span class="dl">'</span><span class="s1">X-Verification-Code</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">111111</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">Authorization</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Bearer {access_token}</span><span class="dl">'</span>
  <span class="p">},</span>
  <span class="na">data</span> <span class="p">:</span> <span class="nx">data</span>
<span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="nx">request</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">));</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>

<blockquote>
<p>Response</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>전화번호를 변경합니다.</p>

<p>변경 시 이전 전화번호와 동일한 전화번호는 사용할 수 없으며, 인증 코드를 요구합니다.</p>

<h3 id='http-request'>HTTP Request</h3>

<p><code>POST /v1/user/verification/check</code></p>

<h3 id='scopes'>Scopes</h3>

<ul>
<li><code>user:verified</code></li>
</ul>

<h3 id='request-header'>Request Header</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>X-Verification-Code</td>
<td>true</td>
<td>인증 코드</td>
</tr>
</tbody></table>

<p><code>X-Verification-Code</code>는 <a href="#send-verification-code-for-update-the-phone-number">인증 코드</a>를 사용합니다.</p>

<h3 id='request-body'>Request Body</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>phone</td>
<td><code>string</code></td>
<td>true</td>
<td>인증코드를 전송한 전화번호</td>
</tr>
</tbody></table>

<h3 id='response-code'>Response Code</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>OK</td>
</tr>
</tbody></table>

<h3 id='response-data'>Response Data</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>success</td>
<td><code>boolean</code></td>
<td>인증 코드 검증 결과</td>
</tr>
</tbody></table>

<h3 id='error-code'>Error Code</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Message</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td><code>SAME_PHONE_NUMBER</code></td>
<td>기존 전화번호와 동일한 전화번호</td>
</tr>
<tr>
<td>400</td>
<td><code>INVALID_PHONE_NUMBER</code></td>
<td>유효하지 않은 전화번호</td>
</tr>
<tr>
<td>400</td>
<td><code>INVALID_VERIFICATION_CODE</code></td>
<td>유효하지 않은 인증 코드</td>
</tr>
<tr>
<td>401</td>
<td><code>Unauthorized</code></td>
<td>미 로그인 상태</td>
</tr>
<tr>
<td>401</td>
<td><code>VERIFICATION_CODE_UNAVAILABLE_OR_EXPIRED</code></td>
<td>인증 코드가 존재하지 않거나 만료됨</td>
</tr>
</tbody></table>

<h2 id='send-verification-code-for-update-the-phone-number'>Send verification code for Update the Phone number</h2>

<blockquote>
<p>Request</p>
</blockquote>

<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/v1/user/verification/send</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.paradise.game</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://api.paradise.game/v1/user/verification/send'</span> <span class="se">\</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">axios</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
  <span class="dl">"</span><span class="s2">phone</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">+821093814181</span><span class="dl">"</span>
<span class="p">});</span>

<span class="kd">let</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">post</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">maxBodyLength</span><span class="p">:</span> <span class="kc">Infinity</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="dl">'</span><span class="s1">https://api.paradise.game/v1/user/verification/send</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span> 
    <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span> 
    <span class="dl">'</span><span class="s1">Authorization</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Bearer {access_token}</span><span class="dl">'</span>
  <span class="p">},</span>
  <span class="na">data</span> <span class="p">:</span> <span class="nx">data</span>
<span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="nx">request</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">));</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>

</code></pre></div>

<blockquote>
<p>Response</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+12705161696"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+821093814181"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"body"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ttl"</span><span class="p">:</span><span class="w"> </span><span class="mi">300000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-05-30T08:55:00.636Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>전화번호 변경을 위한 인증코드를 전송합니다.</p>

<h3 id='http-request'>HTTP Request</h3>

<p><code>POST /v1/user/verification/send</code></p>

<h3 id='scopes'>Scopes</h3>

<ul>
<li><code>user:verified</code></li>
</ul>

<h3 id='request-body'>Request Body</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>phone</td>
<td><code>string</code></td>
<td>true</td>
<td>인증코드를 전송할 전화번호</td>
</tr>
</tbody></table>

<h3 id='response-code'>Response Code</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>OK</td>
</tr>
</tbody></table>

<h3 id='response-data'>Response Data</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>from</td>
<td><code>string</code></td>
<td>인증코드를 전송한 전화번호</td>
</tr>
<tr>
<td>to</td>
<td><code>string</code></td>
<td>인증코드를 받은 전화번호</td>
</tr>
<tr>
<td>body</td>
<td><code>string</code></td>
<td>인증코드</td>
</tr>
<tr>
<td>ttl</td>
<td><code>number</code></td>
<td>인증 코드 유효 시간 (ms)</td>
</tr>
<tr>
<td>createdAt</td>
<td><code>string</code></td>
<td>인증 코드 생성 시간</td>
</tr>
</tbody></table>

<h3 id='error-code'>Error Code</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Message</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td><code>INVALID_PHONE_NUMBER</code></td>
<td>잘못된 휴대폰 번호</td>
</tr>
<tr>
<td>401</td>
<td><code>Unauthorized</code></td>
<td>미 로그인 상태</td>
</tr>
<tr>
<td>409</td>
<td><code>ALREADY_EXISTS_VERIFICATION</code></td>
<td>이미 인증 코드가 발급된 경우</td>
</tr>
</tbody></table>

<h2 id='push-token'>Push Token</h2>

<blockquote>
<p>Request</p>
</blockquote>

<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PATCH</span> <span class="nn">/v1/user/push-token</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.paradise.game</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer {access_token}</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">182</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fqC0SHrP0DROk514Loymhd:APA91bGqlHKCNzzamWpxMcdjR2rMSjfjSQoLce28KxmzJnIxfeBy89ux5KTmXB0lA73OHH5M0mR-PUY5qAbnwBCY69T0R1kh2AvPSBwamR61aHRcxS_EdGASm3eBl_EFKHpDM_tatnAv"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> PATCH <span class="s1">'https://api.paradise.game/v1/user/push-token'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Authorization: Bearer {access_token}'</span> <span class="se">\</span>
<span class="nt">--data</span> <span class="s1">'{
    "token": "fqC0SHrP0DROk514Loymhd:APA91bGqlHKCNzzamWpxMcdjR2rMSjfjSQoLce28KxmzJnIxfeBy89ux5KTmXB0lA73OHH5M0mR-PUY5qAbnwBCY69T0R1kh2AvPSBwamR61aHRcxS_EdGASm3eBl_EFKHpDM_tatnAv"
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">axios</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
  <span class="dl">"</span><span class="s2">token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">fqC0SHrP0DROk514Loymhd:APA91bGqlHKCNzzamWpxMcdjR2rMSjfjSQoLce28KxmzJnIxfeBy89ux5KTmXB0lA73OHH5M0mR-PUY5qAbnwBCY69T0R1kh2AvPSBwamR61aHRcxS_EdGASm3eBl_EFKHpDM_tatnAv</span><span class="dl">"</span>
<span class="p">});</span>

<span class="kd">let</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">patch</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">maxBodyLength</span><span class="p">:</span> <span class="kc">Infinity</span><span class="p">,</span>
  <span class="na">url</span><span class="p">:</span> <span class="dl">'</span><span class="s1">https://api.paradise.game/v1/user/push-token</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span> 
    <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span> 
    <span class="dl">'</span><span class="s1">Authorization</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Bearer {access_token}</span><span class="dl">'</span>
  <span class="p">},</span>
  <span class="na">data</span> <span class="p">:</span> <span class="nx">data</span>
<span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="nx">request</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">));</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div>

<p>푸시 알림을 위해 토큰을 저장합니다.</p>

<p>저장된 토큰을 이용하여 Paradise Game 플랫폼에서 클라이언트 기기로 푸시 알림을 보내기 위해 사용됩니다.
푸시 토큰은 알림을 보내기 위한 고유 식별자입니다.
클라이언트 기기에서 생성되며, 클라이언트 기기의 푸시 알림을 받을 수 있는 상태에서만 생성됩니다.</p>

<aside class="notice">
푸시 토큰은 클라이언트에서 직접 생성하여 서버로 전송해야 합니다. FCM SDK 또는 WebPush API 등을 이용하면 편리하게 푸시 토큰을 생성할 수 있습니다.
</aside>

<p>푸시 알림을 위한 토큰 생성 구현은 <a href="https://www.rfc-editor.org/rfc/rfc8599">RFC8599</a>를 참고하세요.</p>

<h3 id='http-request'>HTTP Request</h3>

<p><code>PATCH /v1/user/push-token</code></p>

<h3 id='scopes'>Scopes</h3>

<ul>
<li><code>user:anonymous</code></li>
<li><code>user:verified</code></li>
<li><code>user:account</code></li>
</ul>

<h3 id='response-code'>Response Code</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>204</td>
<td>No Content</td>
</tr>
</tbody></table>

<h3 id='error-code'>Error Code</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Message</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td><code>INVALID_PUSH_TOKEN</code></td>
<td>유효하지 않은 푸시 토큰</td>
</tr>
</tbody></table>
